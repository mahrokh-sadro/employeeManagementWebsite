{{!-- var HTTP_PORT = process.env.PORT || 8080;
var express = require("express");
var multer = require("multer");
var bodyParser = require("body-parser");
var clientSessions = require("client-sessions");
var app = express();
var path = require('path');
var fs = require('fs');
var exphbs = require('express-handlebars');
var dataService = require('./data-service.js');
var dataServiceAuth = require('./data-service-auth.js');
const storage = multer.diskStorage({    destination: "./public/images/uploaded/", 
   filename: function (req, file, cb) {      cb(null, Date.now() + path.extname(file.originalname));
       }});
       var upload = multer({ storage: storage });
       app.use(express.static('public'))
       app.use(bodyParser.urlencoded({ extended: true }));
       app.use(clientSessions({    cookieName: "session",  
          secret: "web322_assignment6",  
            duration: 3 * 60 * 1000, // 3minutes  
              activeDuration: 1000 * 60 }));
              app.use(function(req, res, next) {  
                    res.locals.session = req.session;   
                     next();}); 
                      app.engine('.hbs',exphbs({  
                     extname:'.hbs',   
                    defaultLayout:'main', 
                    helpers:{       
                                      navLink:function(url, options){  
                                                    return '<li' + ((url==app.locals.activeRoute)? ' class="active"':'')                +'><a href="'+url+'">'+options.fn(this)+'</a></li>'        },        equal:function(lvalue, rvalue, options){            if(arguments.length<3)This study source was downloaded by 100000807471463 from CourseHero.com on 07-09-2021 11:02:57 GMT -05:00https://www.coursehero.com/file/53922921/assign6-web400docx/This study resource wasshared via CourseHero.com
                throw new Error("Handlerbars Helper equal needs 2 parameters");            if(lvalue != rvalue){                return options.inverse(this);            }else{                return options.fn(this);            }        }    }})); --}}